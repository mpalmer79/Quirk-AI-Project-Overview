<!doctype html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<base href="/Quirk-AI-Project-Overview/"><title>Kiosk • Welcome</title>
<link rel="stylesheet" href="assets/kiosk-shared.css">
<script src="assets/kiosk-shared.js"></script>
</head><body>
<div class="kx">
  <h2>Welcome</h2><p class="sub">We’ll guide you through a few quick steps.</p>
  <div class="row row--2">
    <label class="field"><span class="label">Your name / company</span>
      <input id="name"></label>
    <label class="field"><span class="label">Text or email to send your quote</span>
      <input id="contact" placeholder="(555) 555-5555 or you@example.com"></label>
  </div>
  <div style="display:flex;justify-content:flex-end;gap:8px;margin-top:8px">
    <button id="go" class="btn">Continue →</button>
  </div>
  <details class="note" style="margin-top:8px"><summary>Open for more</summary>
    Uses <code>guided_profile</code> in localStorage; posts <code>welcome:done</code>.
  </details>
</div>
<script>
const {save, load, post, track} = window.kiosk;
const nameEl = document.getElementById('name');
const contactEl = document.getElementById('contact');
const prof = load("guided_profile",{name:'',contact:'',budget:400});
nameEl.value = prof.name||''; contactEl.value = prof.contact||'';
window.addEventListener('message', e=>{
  if(e.data?.type==='welcome:init' && e.data.payload?.profile){
    nameEl.value = e.data.payload.profile.name||'';
    contactEl.value = e.data.payload.profile.contact||'';
  }
});
function persist(){ save("guided_profile",{...load("guided_profile",{budget:400}), name:nameEl.value||'', contact:contactEl.value||''}); }
nameEl.addEventListener('input',persist); contactEl.addEventListener('input',persist);
document.getElementById('go').addEventListener('click', ()=>{
  persist(); track('guided_welcome_next'); post('welcome:done',{name:nameEl.value, contact:contactEl.value});
});
</script>
</body></html>
